var ke=Object.defineProperty;var Ee=(t,e,s)=>e in t?ke(t,e,{enumerable:!0,configurable:!0,writable:!0,value:s}):t[e]=s;var J=(t,e,s)=>(Ee(t,typeof e!="symbol"?e+"":e,s),s);import{h as H,l as le,n as pe,g as U,i as oe,p as Se,o as Ce,a as T,t as M,b as S,q as x,f as Z,s as Ne,c as q,d as Ie,r as Te}from"../chunks/disclose-version.BOVRfkSZ.js";import{k as Oe,I as Re,H as De,l as He,D as Me,m as _e,n as he,o as Le,_ as qe,A as Be,d as ze,$ as W,t as I,a0 as se,a1 as j,x as G,W as ve,a2 as Ke,a3 as Fe,a4 as Pe,a5 as me,a6 as We,Q as Ye,S as Qe,a7 as Ge,r as B,q as Ve,a as ae,p as re,g as O,a8 as $}from"../chunks/runtime.CKWRzqfN.js";import{p as Je,i as fe}from"../chunks/props.BtFam5Kb.js";import{i as ie}from"../chunks/lifecycle.Dz8b9rid.js";import{u as Ue,a as Xe,s as F,p as Ze}from"../chunks/stores.IvT3XXGn.js";import{d as ye,w as je,r as et,p as ce,b as tt}from"../chunks/entry.Dg5BSsg6.js";let X=null;function ee(t,e){return e}function st(t,e,s){for(var a=[],n=t.length,o=0;o<n;o++)Ke(t[o].e,a,!0);if(n>0&&a.length===0&&e!==null){var l=e.parentNode;l.textContent="",l.append(e)}Fe(a,()=>{for(var p=0;p<n;p++)Pe(t[p].e);s!==void 0&&s()})}function te(t,e,s,a,n,o=null){var l={flags:e,items:new Map,next:null},p=(e&me)!==0;if(p){var u=t;t=H?le(u.firstChild):u.appendChild(pe())}var g=null;Oe(()=>{var d=s(),r=Re(d)?d:d==null?[]:Array.from(d),_=r.length,f=l.flags;f&j&&!Ye(r)&&!(Qe in r)&&(f^=j,f&Ge&&!(f&W)&&(f^=W));let m=!1;if(H){var y=t.data===De;y!==(_===0)&&(He(oe),U(!1),m=!0)}if(H){for(var v=oe[0],b=l,h,i=0;i<_;i++){if(v.nodeType!==8||v.data!==Me){m=!0,U(!1);break}var c=v;v=le(v);var A=r[i],R=a(A,i);h=xe(c,v,b,null,A,R,i,n,f),l.items.set(R,h),v=v.nextSibling,b=h}if(_>0)for(;v!==t;){var C=v.nextSibling;v.remove(),v=C}}H||at(r,l,t,n,f,a),o!==null&&(_===0?g?_e(g):g=he(()=>o(t)):g!==null&&Le(g,()=>{g=null})),m&&U(!0)})}function at(t,e,s,a,n,o){var w,z,K,ne;var l=(n&We)!==0,p=(n&(W|se))!==0,u=t.length,g=e.items,d=e.next,r=d,_=new Set,f=e,m=new Set,y=[],v=[],b,h,i,c;if(l)for(c=0;c<u;c+=1)b=t[c],h=o(b,c),i=g.get(h),i!==void 0&&((w=i.a)==null||w.measure(),m.add(i));for(c=0;c<u;c+=1){if(b=t[c],h=o(b,c),i=g.get(h),i===void 0){var A=Se(pe()),R=r?r.o:s;R.before(A),f=xe(A,R,f,f.next,b,h,c,a,n),g.set(h,f),y=[],v=[],r=f.next;continue}if(p&&rt(i,b,c,n),i.e.f&qe&&(_e(i.e),l&&((z=i.a)==null||z.unfix(),m.delete(i))),i!==r){if(_.has(i)){if(y.length<v.length){var C=v[0],k;f=C.prev;var Y=y[0],Q=y[y.length-1];for(k=0;k<y.length;k+=1)ue(y[k],C,s);for(k=0;k<v.length;k+=1)_.delete(v[k]);D(Y.prev,Q.next),D(f,Y),D(Q,C),r=C,f=Q,c-=1,y=[],v=[]}else _.delete(i),ue(i,r,s),D(i.prev,i.next),D(i,f.next),D(f,i),f=i;continue}for(y=[],v=[];r!==null&&r.k!==h;)_.add(r),v.push(r),r=r.next;if(r===null)continue;i=r}y.push(i),f=i,r=i.next}const E=Array.from(_);for(;r;)E.push(r),r=r.next;var N=n&me&&u===0?s:null;if(l){for(c=0;c<E.length;c+=1)(K=E[c].a)==null||K.measure();for(c=0;c<E.length;c+=1)(ne=E[c].a)==null||ne.fix()}st(E,N,()=>{for(var L=0;L<E.length;L+=1){var V=E[L];g.delete(V.k),D(V.prev,V.next)}}),l&&Be(()=>{ze(()=>{var L;for(i of m)(L=i.a)==null||L.apply()})})}function rt(t,e,s,a){a&W&&I(t.v,e),a&se?I(t.i,s):t.i=s}function xe(t,e,s,a,n,o,l,p,u){var g=X;try{var d=(u&W)!==0,r=(u&j)===0,_=d?r?G(n):ve(n):n,f=u&se?ve(l):l,m={i:f,v:_,k:o,a:null,e:null,o:t,prev:s,next:a};return s.next=m,a!==null&&(a.prev=m),X=m,m.e=he(()=>p(e,_,f)),m}finally{X=g}}function ue(t,e,s){for(var a=t.next?t.next.o:s,n=e?e.o:s,o=t.o;o!==a;){var l=o.nextSibling;n.before(o),o=l}}function D(t,e){t.next=e,e!==null&&(e.prev=t)}function P(t,e,s){s=s==null?null:s+"";var a=t.__attributes??(t.__attributes={});H&&(a[e]=t.getAttribute(e),e==="src"||e==="href"||e==="srcset")||a[e]!==(a[e]=s)&&(s===null?t.removeAttribute(e):t.setAttribute(e,s))}function be(t,e){var s=t.__className,a=it(e);H&&t.className===a?t.__className=a:(s!==a||H&&t.className!==a)&&(e==null?t.removeAttribute("class"):Ce(t,a),t.__className=a)}function it(t){return t??""}function we(t,e,s){s?t.classList.add(e):t.classList.remove(e)}function nt(t,e,s){var a=Ve(t,e);a&&a.set&&(t[e]=s,B(()=>()=>{t[e]=null}))}const lt=`linear(
  0, 0.002, 0.01 3.6%, 0.034, 0.074 9.1%, 0.128 11.4%, 0.194 13.4%, 0.271 15%,
  0.344 16.1%, 0.544, 0.66 20.6%, 0.717 22.4%, 0.765 24.6%, 0.808 27.3%,
  0.845 30.4%, 0.883 35.1%, 0.916 40.6%, 0.942 47.2%, 0.963 55%, 0.979 64%,
  0.991 74.4%, 0.998 86.4%, 1
)`;class ot{constructor(e,s={}){J(this,"selector");J(this,"defaults");this.selector=e,this.defaults=s}rect(e){const s=e.getBoundingClientRect().toJSON();return{el:e,...s}}measure(){return Array.from(document.querySelectorAll(this.selector)).map(this.rect)}absolute(e,s){let a=e.getAttribute("style");return e.setAttribute("style",`${a} position: absolute; top: ${s.top}px; left: ${s.left}px; width: ${s.width}px;	height: ${s.height}px;`),()=>e.setAttribute("style",a)}invert(e,s,a,n){const{promise:o,resolve:l}=Promise.withResolvers(),p=s.left-a.left,u=s.top-a.top,g=this.absolute(e,a),d=e.animate([{width:`${s.width}px`,height:`${s.height}px`,transform:`translate(${p}px, ${u}px)`},{width:`${a.width}px`,height:`${a.height}px`,transform:"translate(0px, 0px)"}],{...n,fill:"backwards"});return d.onfinish=()=>{g(),l()},o}flip(e={}){const{duration:s=500,delay:a=0,stagger:n=0,easing:o=lt}={...this.defaults,...e},{promise:l,resolve:p}=Promise.withResolvers(),u=[],g=this.measure();return requestAnimationFrame(()=>{const d=this.measure();for(let r=0;r<g.length;r++){const _=this.invert(d[r].el,g[r],d[r],{duration:s,delay:r*n+a,easing:o});u.push(_)}Promise.all(u).then(p)}),l}}function ge(t,e={}){return new ot(t,e)}var vt=M("<div></div>"),ft=M('<div class="bg bg-overlay svelte-5sgzs5"></div> <div class="bg bg-image svelte-5sgzs5"></div> <!>',1);function ct(t,e){ae(e,!1);const s=G([5,1,2,5,0,8,0]);ie();var a=ft(),n=Z(a),o=S(S(n,!0)),l=S(S(o,!0));te(l,1,()=>O(s),ee,(p,u,g)=>{var d=vt();B(()=>{be(d,`color-${x($(u))} test-bg svelte-5sgzs5`),P(d,"style",`z-index: ${x(O(s).length-$(g))}; opacity: 0.01; background-image: linear-gradient(to bottom, var(--color-${x($(u))}-1) , var(--color-${x($(u))}-2) ); animation-delay:  ${x($(g)*4-2)}s; animation-duration: ${x(O(s).length*4)}s;`)}),T(p,d)}),T(t,a),re()}var ut=M('<div class="tile svelte-1tss27h"><div class="tile-text svelte-1tss27h"><h2 class="svelte-1tss27h"> </h2></div></div>');function gt(t,e){ae(e,!1);let s=Je(e,"locationNOK",0,!1),a=16,n=Math.round(a/8);ie();var o=ut(),l=q(o),p=q(l),u=q(p);B(()=>{we(l,"locationNOK",s()),P(p,"style",`--duration: ${x(a)}s; --delay: -${x(n*e.idx)}s;`),Ne(u,e.title)}),T(t,o),re()}const de=je(""),$e=et({cover:{title:"Mike Royko",pages:["cover"]},"millions-in-his-firing-squad":{title:"Millions in His Firing Squad",pages:["pg_027","pg_028","pg_029"]},"lets-all-drink-to-billy-goat":{title:"Lets All Drink to Billy Goat",pages:["pg_057","pg_058","pg_059"]},"daley-always-a-quota-man":{title:"Daley Always a Quota Man",pages:["pg_093","pg_094","pg_095"]},"daley-embodied-chicago":{title:"Daley Embodied Chicago",pages:["pg_102","pg_103","pg_104","pg_105"]},"give-washington-a-break":{title:"Give Washington a Break",pages:["pg_166","pg_167","pg_168","pg_169"]},"system-a-big-0":{title:"System a Big 0",pages:["pg_182","pg_183","pg_184"]},"it-was-wrigley":{title:"It Was Wrigley",pages:["pg_273","pg_274","pg_275"]}}),Ae=ye($e,t=>Object.keys(t)),dt=ye(Ae,t=>{const e=[...t,"none"];return e.map(s=>{const a=[];for(let n in e)s!==e[n]&&a.push(`"${e[n]} ${s}"`);return a.join(" ")})});var pt=M('<p class="locnok svelte-w8fx89">Due to licensing issues, the text can only <br>be viewed on site. Come visit!</p>'),_t=M('<img alt="page of text written by Mike Royko" class="svelte-w8fx89">'),ht=M('<article><div class="child svelte-w8fx89"><div class="text-images svelte-w8fx89"><!> <!></div> <!></div></article>'),mt=M('<!> <div class="grid svelte-w8fx89"></div>',1);function Et(t,e){ae(e,!1);const s={};Ue(s);const a=()=>F(de,"$article",s),n=()=>F(Ze,"$page",s),o=()=>F(Ae,"$slugs",s),l=()=>F(dt,"$layouts",s),p=()=>F($e,"$content",s),u=!1,g="transp-text";Xe(de,n().params.id||"");let d=G(o().includes(a())?l()[o().indexOf(a())]:l()[l().length-1]),r=G(!0);async function _(v,b){if(O(r)&&v!==n().state.showArticle){I(r,!1),I(d,l()[b]);const h=ge(".box",{duration:1e3});I(r,await h.flip()),ce(`/royko/${v}`,{showArticle:v})}else{I(r,!1),I(d,l()[l().length-1]);const h=ge(".box",{duration:1e3});I(r,await h.flip()),ce("/royko/",{showArticle:"none"})}}ie();var f=mt(),m=Z(f);ct(m,{locationNOK:u});var y=S(S(m,!0));return te(y,9,()=>Object.entries(p()),ee,(v,b,h)=>{let i=()=>$($(b))[0],c=()=>$($(b))[1];var A=ht();be(A,`box article-${x($(h))} svelte-w8fx89`);var R=q(A),C=q(R),k=q(C);fe(k,()=>u,N=>{var w=pt();T(N,w)});var Y=S(S(k,!0));te(Y,1,()=>c().pages,ee,(N,w,z)=>{var K=_t();B(()=>P(K,"src",`${x(tt)}/${x(g)}/991625758805867_ord_f_548.52_r684_1999_${x($(w))}.webp`)),T(N,K)});var E=S(S(C,!0));fe(E,()=>(n().state.showArticle||a())!==i(),N=>{var w=Ie(),z=Z(w);gt(z,{get title(){return c().title},idx:$(h)}),T(N,w)}),B(()=>{P(A,"style",`cursor: ${x(O(r)?"pointer":"")}; grid-area: ${x(i())}; `),we(A,"active",(n().state.showArticle||a())===i()&&O(r))}),Te("click",A,function(...N){const w=O(r)?()=>_(i(),$(h)):"";return w==null?void 0:w.apply(this,N)},!1),T(v,A)}),B(()=>P(y,"style",`grid-template-areas: ${x(O(d))};`)),T(t,f),nt(e,"handleClick",_),re({handleClick:_})}export{Et as component};
